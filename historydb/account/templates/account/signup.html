<!-- Author: Younghyun Cho <younghyun@berkeley.edu> -->
<!-- Based on Bootstrap checkout form -->

<!doctype html>

{% extends 'main/base.html' %}
{% load static %}
{% block content %}

<link href="{% static 'css/form-validation.css' %}" rel="stylesheet">

<script>
  $(document).ready(function () {
    $('#nav-item-login').addClass('active');
  });

  function UpdateECP_Y() {
      document.getElementById("ecp_name_div").style.display = 'block';
  }

  function UpdateECP_N() {
      document.getElementById("ecp_name_div").style.display = 'none';
  }

  function UpdateECP_X() {
      document.getElementById("ecp_name_div").style.display = 'none';
  }
</script>

<div class="container" style="max-width: 560px">
    <div class="py-5 text-center">
        <h2>Sign Up</h2>
        <p class="lead">
    </div>

    <div class="container">
        <form method="POST" action="{% url 'account:signup' %}" class="needs-validation" novalidate>
            {% csrf_token %}
            <div class="mb-3">
                <label for="username">Username</label>
                <div class="input-group">
                    <input type="text" class="form-control" id="username" name="username" placeholder="Username" required>
                    <div class="invalid-feedback" style="width: 100%;">
                        Your username is required.
                    </div>
                </div>
            </div>

            <div class="mb-3">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="you@example.com" required>
                <div class="invalid-feedback">
                    Please enter a valid email address.
                </div>
            </div>

            <div class="mb-3">
                <label for="password1">Password <span class="text-muted"></span></label>
                <input id="password1" name="password1" type="password" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="password2">Confirm Password <span class="text-muted"></span></label>
                <input id="password2" name="password2" type="password" class="form-control" required>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="firstname">First name <span class="text-muted">(Optional)</span></label>
                    <input type="text" class="form-control" id="firstname" name="firstname" placeholder="" value="" required>
                    <div class="invalid-feedback">
                        Valid first name is required.
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="lastname">Last name <span class="text-muted">(Optional)</span></label>
                    <input type="text" class="form-control" id="lastname" name="lastname" placeholder="" value="" required>
                    <div class="invalid-feedback">
                        Valid last name is required.
                    </div>
                </div>
            </div>

            <div class="mb-3">
                <label for="position">Position <span class="text-muted">(Optional)</span></label>
                <input type="text" class="form-control" id="position" name="position">
            </div>

            <div class="mb-3">
                <label for="affiliation">Affiliation <span class="text-muted">(Optional)</span></label>
                <input type="text" class="form-control" id="affiliation" name="affiliation">
            </div>

            <div class="d-block my-3">
                <label>Are you part of Exascale Computing Project?</label>
                <div class="custom-control custom-radio">
                    <input id="ecp_member_y" name="ecp_member" value="Yes" type="radio" class="custom-control-input" onClick="UpdateECP_Y();" required>
                    <label class="custom-control-label" for="ecp_member_y">Yes</label>
                </div>
                <div class="custom-control custom-radio">
                    <input id="ecp_member_n" name="ecp_member" value="No" type="radio" class="custom-control-input" onClick="UpdateECP_N();" required>
                    <label class="custom-control-label" for="ecp_member_n">No</label>
                </div>
                <div class="custom-control custom-radio">
                    <input id="ecp_member_x" name="ecp_member" value="Unknown" type="radio" class="custom-control-input" onClick="UpdateECP_X();" checked required>
                    <label class="custom-control-label" for="ecp_member_x">I don't know</label>
                </div>
            </div>

            <div class="mb-3" id="ecp_name_div" style="display: none;">
                <label for="ecp_project">Name of Your ECP Project <span class="text-muted">(Optional)</span></label>
                <input type="text" class="form-control" id="ecp_project" name="ecp_project">
            </div>

            <hr class="mb-4">
            <button class="btn btn-primary btn-lg btn-block" type="submit">Sign Up</button>
        </form>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="../assets/js/vendor/jquery.slim.min.js"><\/script>')</script><script src="../assets/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'js/form-validation.js' %}"></script>

{% endblock %}
